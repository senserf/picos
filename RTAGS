PG111027A:

	Started RTAGS. Previous modifications were crudely described at the
	respective commits.

	PIP is slowly approaching a shape making it almost presentable. Here is
	the list of things that work:

	- Opening projects, handling files, adding files to projects, deleting
	  files, directories, and so on. The file handling part is practically
	  complete together with the reasonably powerfull, flexible, and
	  friendly tree viewer in the left pane of the project window.

	- Editing files. Maybe to say that elvis has been integrated with PIP
	  would be an overstatement, but it has been made to collaborate. Some
	  work remains to be done (e.g., ctags can be improved), but it is
	  quite OK already. In particular:

	  - Files are opened for editing by clicking on them, including
	    clicks in the terminal pane. Clicking on an error location produced
	    by the compiler (including picomp) opens the file at the requisite
	    position.

	  - Tagging basically works. When you click on an object in an elvis
	    window, PIP will locate the file with the object's definition and
	    try to open that file at the perinent location. Some tags still
	    don't work, but its is pretty much clear how to fix the problems
	    (so we will take care of the details after some more desperately
	    needed things have been made to work).

	  - PIP knows which files have been modified and not saved, so it can
	    notify the user and even force a file to be saved before a build.

	- Simple (skeletal) builds. PIP invokes mkmk, make, and picomp to
	  compile things.

	I am going to work next on VUEE, i.e., some integration of picomp and
	udaemon with PIP.

PG111029A:

	VUEE is now "integrated". this is the first "presentable" version
	including installation scripts for elvis and PIP. Many cleanups and
	two or three bugs fixed. Previously, the running status of a term
	action wasn't recognized properly (in particular when PIP thought it
	had killed the process, it wasn't always true). That should be OK now.

PG111030A:

	Changed the kill signal for pipe processes from QUIT to INT. QUIT would
	cause unnecessary core/stack dumps. Also the kill operation now handles
	pipes with multiple (more than 2) stages in a (hopefully) foolproof
	manner.

	A few cosmetics in README.txt.

PG111106A:

	Integrated the Elprotronic loader (sort of). Improved the handling of
	elvis commands (piped to elvis windows) by delaying them for a while
	until the window has started.

PG111107A:

	Integrated genimage.

PG111107B:

	A few cleanups (genimage integrated slightly better ;-). PIP is now
	more exact about cleaning up at termination, i.e., killing all its
	spawned programs and scripts.

PG111108A:

	Debug information is now written to stdout only when pip has been
	called with -D, i.e., pip -D.

	Ctags handling improved:

	1. static local tags are now included in the scan (the more the better,
	   I think)

	2. system files are also tagged (and opened read-only when referenced)

	For the latter, PIP needs the project's Makefile(s). Whenever a new
	Makefile is created, PIP re-runs a script (mkstags) which picks from
	all the Makefiles currently present in the project all the system
	files needed by the project and then calls elvtags for them all. This
	does take some time, but looks acceptable to me, especially that
	generating a Makefile is not exactly instantaneous.

	The action of opening a project with Makefile(s) present is now
	noticeably longer, but we can live with that, I guess. Please let me
	know if you can't.

	To do:

	1. a way to open system files for writing (so you can edit them form a
	   project)

	2. if there's a compilation error in a system file, a click on the
	   error message should open the file (possibly for writing, if the
	   right option is enabled - I guess that option can be a configuration
	   attribute of the project); at present only local files are opened
	   on such a click; I have to sleep on this to do it right

PG111113A:

	Simplified loader configuration (auto option included for the path to
	executable).

	Integrated msp430-gdb (and msp430-gdbproxy) with PIP (under Linux). It
	was in fact much more challenging that integrating the Elprotronic
	loader, because I had to write a special (and not completely trivial)
	Tk script glueing together gdb with the proxy. This script (which can
	be used independently of PIP) looks like a poor man's GUI for GDB.

	Cleaned up a few minor problems along the way.

	Genimage still doesn't want under Linux, because it requires the Image
	files to be in the Intel HEX (.a43) format. I will see what I can do.

PG111115A:

	System files can now be openened by clicking on them in the terminal
	pane, not only via ctag references. They are still always opened
	read-only. I am not sure of we should allow opening them read-write
	from a project. Should we? Always? On some flag?

	To do:

	1. Cleaning operations (a Clean button and a way to set up a .mop file)

	2. A possibility to edit an external file and/or copy its content to a
	   "standard" project file (like options.tagall -> options.sys in
	   new_eco_demo, which presently must be done from outside)

PG111118A:

	Added color schemes for elvis. The Configuration menu includes a new
	item named "Editor schemes" which allows you to create/manipulate color
	(generally elvis configuration) schemes, such that different schemes
	can be used for different file types (this may be helpful when you edit
	or view lots of files at once). A bit of documentation may be in order
	(elvis's help may be of some assistance regarding the meaning of some
	"faces"), although the basics are simple. For a quick start:

	1. Open a project and click on "Editor schemes" (note that editor
	   configuration is not part of the per-project config, but belongs to
	   global PIP settings stored in $HOME/.piprc)

	2. Click on "New" to create a color scheme (using Default for the
	   starting point); note that you assign names to your schemes

	3. The most important colors are for the face "normal"; an easy test is
	   to change the background in "normal", which is simply the background
	   color of the editor screen; do that and click "Done"

	4. Create one or two more schemes

	5. The Assignment section is interpreted in the order of rows; ignore
	   the regexp pattern for now; whenever you open a file, its name and
	   location are compared against the rows in Assignment and the scheme
	   from the first matching row (the last column) is chosen

	To do:

	1. The items from the previous "To do" list

	2. Grep-like search through files, as suggested by Wlodek

PG111119A:

	Added two (minor) project configuration options (see the Options item
	in the Configuration menu):

	1. The limit on the number of lines saved in the console (previously
	   there was a tacit limit of 1024); note that some lines are long
	   (we count lines by newlines, not by the number of soft [wrapped]
	   lines in the window)

	2. The open mode for system files:

		Never	- never open system files (for ctags or console clicks)
		Tags	- open system files for ctags only, read-only
		Always	- open system files for ctags and also on console
			  clicks, read-only
		R/W	- as Always, but read-write

	More options will be likely added later.

PG111121A:

	Added a search engine to PIP (something along the lines mentioned by
	Wlodek). When you click Search (at the bottom of the File menu) you
	will open a window whereby you can search the project files as well as
	the related system files. The latter is optional (see a special
	checkbox in the window) and, similar to ctags, only works if a Makefile
	is present in the project's directory.

	Here is a brief explanation of the items in the search window:

	String:	the string to search for. It can be:

	- a regular expression (if RE is selected)
	- a straightforward (verbatim) piece of text (ST)
	- a "word-matched" pattern (WD)

	The last option works this way that the string is broken at spaces into
	chunks, with each chunk to be matched exactly, but the amount of
	spacing between them is arbitrary. Additionally, the first and last
	chunks, if they are alphanumeric, must be matched at word boundaries.
	For example: "fun ( i," will match "fun(i," as well as "fun  (i ,",
	but not "afun (i,".

	Case: whether the case is relevant (it is when the box is checked).

	Sys: whether system files should be searched as well (note that you
	need a Makefile for this to work).

	H, M: color selections for the search headers and matches (which are
	highlighted in the presented text).

	Max lines: the limit on the total number of lines stored in the window.

	Max cases: the limit on the number of matches. When that number is
	reached, the search is stopped.

	Bracket: the number of lines displayed for each match, including the
	matched line. If this number is even, one more line will be shown in
	front.

	FN Pat: an optional regexp restricting the names of files to be
	searched. For example, when you put "\.h$" in there, you will be only
	searching through headers.

	The Search button becomes Stop when a search is in progress. By hitting
	it, you will abort the search. Most searches are reasonably fast.

	Note that you can open a file on a matched line by double clicking on
	the respective line. For system files to be openable this way, the
	pertinent configuration option (Configuration->Options) must be set
	properly.

	Added command Clean to clean up the project.

PG111122A:

	PIP detects Elvis's problems with contacting the X server (like when
	PIP is run in an environment without one) and diagnoses them instead
	of just quietly failing to open the editor's window.

	Added a "negation" checkbox in front of the file name qualifier regexp
	in the Search window.

	Added a "Clean" button in the Search window.

PG111123A:

	Fixed the parent of the code picker dialog in the Search window to
	make the dialog grab control from that window (as opposed to the main
	window).

	Made sure that alerts, dialogs, and other modal windows (ones that grab
	focus and event) are properly linked to their parent windows, so that
	the window to which the modal window applies does not get covered by
	the root window (to which all modal windows were previously linked by
	default.

PG111123B:

	Added more options for handling system (PicOS) files in search. Now we
	have these:

	None	system files are not searched at all

	Proj	only the system files related to the project (based on
		Makefiles) are searched

	All	all system files related to the given CPU are searched

	Only	only (all) system files are searched, i.e., project files are
		not searched

	The last two options may be useful when modifying PicOS.

	Fixed: the case number limit in search was not honored properly.

PG111128A:

	Added options to include VUEE (system) files (i.e., ones in VUEE/PICOS)
	for ctags and search. Many things redone. In particular, the external
	scripts elvissettings and mkstags eliminated and replaced by internal
	code. Added buttons to the Search window to edit/create any file
	anywhere, which will make it more natural to use PIP for fixing PicOS,
	VUEE, and also SIDE from within a project.

	A manual becomes more and more needed. While many things are obvious,
	some do call for a bit of explanation.

PG111130A:

	Fixed a problem in the elvis scheme editor with the "extra commands"
	field which was not copied properly. Not that it extremely useful.

	The string field in the Search window changed to "text", so that cut
	and paste (UNIX style) works.

PG111207A:	PICOS >= PG111206A, VUEE >= PG111129A

	Script instpip renamed deploy in accord with the remaining packages.
	The idea is that now the script can be called from PICOS/deploy.

	When you double click on a word in elvis's window, and that word is not
	found as a ctag, and the Search window is currently open, then the word
	is put into the search string.

	Sanitize call arguments. There's a weird problem causing that the last
	argument passed to the script has CR appended as its last character.
	I don't understand where it comes from, but it has happened to me on
	several occassions in the past (like on every second Cygwin upgrade).
	I have added code (and will do it with all our scripts that care) to
	preprocess arguments before interpretation and make sure that the last
	one is sane.

	Added code to try to prevent the creation of a directory or a file name
	with a space in it (if that thing falls into the PICOS tree), because
	it screws up mkmk. I may eventually get to fixing mkmk to allow such
	file names, but the flaky interoperability of Cygwin and Windows makes
	me reluctant (as there will probably be no end to it).

	Be less strict about checking the consistency of a project's directory
	if config.prj exists. The user may want to edit out the inconsistencies
	left in the last session.

	The title of PIP's root window tells the program version as well as
	the project directory.

	Code where a directory is selected checked and improved a bit to allow
	for new directory creation in those cases where it makes sense.
	The choose directory dialog on Windows sucks. At some point I may want
	to program my own dialog, but we are not desperate at this stage.

	In the project type selection dialog for a new project (multiple
	programs, single program), "Tag" changed to "Label". We will be calling
	those things "labels" in agreement with the revised terminology in
	mkmk.pdf.

	Fixed a bug causing multiple instances of the board selection dialog
	to pop up when switching between single and multiple. It was
	introduced when I was fixing the window parenthood problem (in
	PG111123A).

	Fixed the parent for color selection dialog in the editor config
	window.

	Return key in the search string triggers search (similar to pressing
	the Search button).

	The msp430-gdbproxy + msp430-gdb combo made to work under Cygwin. In
	fact, both MSP-FET430UIF and Olimex TINY work, but the DLLs have to
	be replaced. Added a command (trivial script) to conveniently replace
	DLLs. This script comes with PICOS, so upgrade. You also have to fetch
	the new version of mspgcc from our REPO (where the alternative DLLs
	are present). See http://www.olsoent.com/REPO/contents.html .

	The elvis set that comes with PIP (the Cygwin part) recompiled under
	XP. Hopefully, it will be more general (it does work on my Windows 7).

PG111208A:

	Fixed a bug causing that ctags were not always re-computed after a
	file modification that should have triggered the action.

	Made gdbloader (and thus PIP) capable of re-flashing the FET device
	(at this time applicable only to MSP-FET430UIF).

	The stub FSM that comes with a new project has "state" instead of
	"entry".

	Added commands to soft-clean the project, i.e., removing the object
	files but not the Makefiles.

PG111209A:	PICOS >= PG111209A

	Added a line input field to the console. It may be useful for many
	different things in the future. For now:

	- there's a button allowing you to run any program (e.g., sh) in the
	  console; it may not be very nice (the console is not a terminal),
	  but it can be useful

	- there are buttons to compile VUEE in debug mode and run the model
	  within gdb; again, not very flashy (the interface to gdb is command-
	  line), but better than nothing

	Yesterday a VUEE model crashed on me (the bug in picomp at PH111208A),
	and I had to step out of PIP to run gdb on side.exe. Now I don't have
	to.

	Note that the line input field handles Control-C, which sends INT to
	the program, but it only works for programs that take input from the
	line.

	The kill signal for killing external programs connected via a pipe
	changed from INT to KILL. INT was ineffective in some cases, KILL
	should always work.

	Fixed a bug in gdbloader causing that flash was not erased properly
	before load.

	Added a button to clean the console output.
